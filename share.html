<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<script>
    Kakao.init('69b60ffde33e69fed5960adba8c69b9f');
    Kakao.isInitialized();
  </script>
<body>
    <a id="kakao-link-btn" href="javascript:kakaoShare()">
    	<img src="https://developers.kakao.com/assets/img/about/logos/kakaolink/kakaolink_btn_medium.png" />
    </a>
    <a id="clip-btn" href="javascript:clipboardShare()">
    	<img src="img/공유.png"/ style="width:30%">
    </a>
</body>

<!-- kakao sdk 호출 -->
<script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
<script type="text/javascript">
	//  클립보드 복사하기
	function clipboardShare() {
    	    // 1. 새로운 element 생성
    	    var tmpTextarea = document.createElement('textarea');
            
            // 2. 해당 element에 복사하고자 하는 value 저장
            tmpTextarea.value = "https://likelion.netlify.app/";
            
            // 3. 해당 element를 화면에 안보이는 곳에 위치
            tmpTextarea.setAttribute('readonly', '');
            tmpTextarea.style.position = 'absolute';
            tmpTextarea.style.left = '-9999px';
            document.body.appendChild(tmpTextarea);
            
            // 4. 해당 element의 value를 시스템 함수를 호출하여 복사
            tmpTextarea.select();
            tmpTextarea.setSelectionRange(0, 9999);  // 셀렉트 범위 설정
            var successChk = document.execCommand('copy');
            
            // 5. 해당 element 삭제
            document.body.removeChild(tmpTextarea);
            
            // 클립보드 성공여부 확인
            if(!successChk){
            	alert("클립보드 복사에 실패하였습니다.");
            } else {
            	alert("클립보드에 복사가 완료되었습니다.");
            }
       }
</script>
<script src="js/data.js"></script>
<script type="text/javascript">
  Kakao.init('69b60ffde33e69fed5960adba8c69b9f');
  Kakao.isInitialized();

  function kakaoShare() {
    // var resultImg = document.querySelector('#resultImg'); 
    // var resultAlt = resultImg.firstElementChild.alt; 
    const shareTitle = '개발자 유형 테스트 결과'
    const shareDes=infoList[0].name;
    const shareImage= 'https://likelion.netlify.app/' + 'img/image-' + 0 + '.png';
    const shareURL = 'https://likelion.netlify.app/' + 'result-' + 0 + '.html';
    Kakao.Link.sendDefault({
        objectType: 'feed',
        content: {
        title: shareTitle,
        description: shareDes,
        imageUrl: shareImage,
        link: {
            mobileWebUrl: shareURL,
            webUrl : shareURL,
        },
        },
      buttons: [
        {
            title: '결과 확인하기',
            link: {
            mobileWebUrl: shareURL,
            webUrl : shareURL
            },
        },
        ],
      // 카카오톡 미설치 시 카카오톡 설치 경로이동
      installTalk: true,
    })
  }
</script>
</html>